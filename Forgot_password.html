<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>نسيت كلمة المرور | GirlsSpace Mahama</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#c23cb6',
            accent: '#ec4899',
            dark: '#374151',
            light: '#f9f7fd',
            success: '#0e5ae7',
          },
          fontFamily: {
            sans: ['Poppins', 'sans-serif'],
          },
        },
      },
    }
  </script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <style>
    /* Custom styles for RTL support */
    [dir="rtl"] .language-rtl {
      direction: rtl;
    }
    [dir="ltr"] .language-ltr {
      direction: ltr;
    }
    .nav-link::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -4px;
      background: linear-gradient(135deg, #ec4899 0%, #c23cb6 100%);
      transition: all 0.3s ease;
      transform: translateX(-50%);
    }
    .nav-link:hover::after {
      width: 100%;
    }
    .rtl .nav-link::after {
      left: 50%;
    }
    .ltr .nav-link::after {
      left: 50%;
    }
  </style>
</head>

<body class="bg-light text-gray-800 font-sans">

  <!-- ==================== NAVBAR ==================== -->
  <nav class="sticky top-0 z-50 bg-white shadow-md rtl">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16 flex-wrap gap-3">

        <!-- Logo -->
        <div class="flex-shrink-0">
          <img src="./img/Girls Space (1) (1).png" alt="شعار GirlsSpace Mahama" class="w-14 h-12 object-contain rounded-full">
        </div>

        <!-- Hamburger (Mobile) -->
        <div class="sm:hidden flex items-center">
          <button id="mobile-menu-button" class="text-dark focus:outline-none" aria-label="فتح القائمة" aria-expanded="false" aria-controls="nav-links">
            <span class="block w-7 h-0.5 bg-dark mb-1 transition-all"></span>
            <span class="block w-7 h-0.5 bg-dark mb-1 transition-all"></span>
            <span class="block w-7 h-0.5 bg-dark transition-all"></span>
          </button>
        </div>

        <!-- Desktop Nav Links -->
        <div class="hidden sm:flex sm:items-center sm:space-x-4 text-sm rtl">
          <a href="./index.html" class="nav-link text-dark hover:text-accent font-medium relative" data-translate="nav.home">الرئيسية</a>
          <a href="./AboutUs.html" class="nav-link text-dark hover:text-accent font-medium relative" data-translate="nav.about">من نحن</a>
          <a href="./chat.html" class="nav-link text-dark hover:text-accent font-medium relative" data-translate="nav.chat">الدردشة</a>
          <a href="./stories.html" class="nav-link text-dark hover:text-accent font-medium relative" data-translate="nav.stories">القصص</a>
          <a href="./Learning_Programs.html" class="nav-link text-dark hover:text-accent font-medium relative" data-translate="nav.programs">البرامج</a>
          <a href="./protection.html" class="nav-link text-dark hover:text-accent font-medium relative" data-translate="nav.protection">الحماية</a>
          
          <!-- Language Dropdown -->
          <div class="relative group" id="language-dropdown">
            <button class="text-dark hover:text-accent font-medium flex items-center gap-1" id="current-language">
              <span>العربية</span> <i class="fas fa-chevron-down text-xs"></i>
            </button>
            <div class="absolute top-full left-0 mt-2 w-36 bg-white rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50" id="lang-menu">
              <a href="#" class="block px-4 py-2 text-sm text-dark hover:bg-purple-50 hover:text-primary language-option" data-lang="ar">العربية</a>
              <a href="#" class="block px-4 py-2 text-sm text-dark hover:bg-purple-50 hover:text-primary language-option" data-lang="en">English</a>
              <a href="#" class="block px-4 py-2 text-sm text-dark hover:bg-purple-50 hover:text-primary language-option" data-lang="sw">Swahili</a>
              <a href="#" class="block px-4 py-2 text-sm text-dark hover:bg-purple-50 hover:text-primary language-option" data-lang="fr">Français</a>
              <a href="#" class="block px-4 py-2 text-sm text-dark hover:bg-purple-50 hover:text-primary language-option" data-lang="rw">Kinyarwanda</a>
            </div>
          </div>

          <a href="./login.html" class="px-3 py-1.5 border-2 border-primary text-primary rounded-full text-xs font-semibold hover:bg-purple-50" data-translate="nav.login">تسجيل الدخول</a>
          <a href="./donate.html" class="px-4 py-2 bg-gradient-to-r from-accent to-primary text-white rounded-full text-xs font-semibold hover:shadow-lg hover:shadow-primary/50 transition-shadow" data-translate="nav.donate">تبرع</a>
        </div>

        <!-- Search -->
        <div class="hidden sm:block">
          <input type="text" placeholder="بحث..." class="px-3 py-1.5 border border-gray-300 rounded-lg text-sm w-32 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20" data-translate="nav.search">
        </div>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="sm:hidden hidden bg-white border-t rtl" id="nav-links">
      <div class="px-4 pt-2 pb-3 space-y-1">
        <a href="index.html" class="block py-2 text-dark font-medium border-b" data-translate="nav.home">الرئيسية</a>
        <a href="AboutUs.html" class="block py-2 text-dark font-medium border-b" data-translate="nav.about">من نحن</a>
        <a href="chat.html" class="block py-2 text-dark font-medium border-b" data-translate="nav.chat">الدردشة</a>
        <a href="stories.html" class="block py-2 text-dark font-medium border-b" data-translate="nav.stories">القصص</a>
        <a href="Learning_Programs.html" class="block py-2 text-dark font-medium border-b" data-translate="nav.programs">البرامج</a>
        <a href="protection.html" class="block py-2 text-dark font-medium border-b" data-translate="nav.protection">الحماية</a>
        
        <div class="py-2 border-b">
          <div class="flex justify-between items-center">
            <span data-translate="nav.language">اللغة</span>
            <select id="mobile-language-selector" class="bg-white border border-gray-300 rounded px-2 py-1 text-sm">
              <option value="ar" selected>العربية</option>
              <option value="en">English</option>
              <option value="sw">Swahili</option>
              <option value="fr">Français</option>
              <option value="rw">Kinyarwanda</option>
            </select>
          </div>
        </div>
        
        <a href="login.html" class="block py-2 text-primary font-semibold border-b" data-translate="nav.login">تسجيل الدخول</a>
        <a href="donate.html" class="block py-2 text-white bg-gradient-to-r from-accent to-primary rounded-lg text-center font-semibold" data-translate="nav.donate">تبرع</a>
        <input type="text" placeholder="بحث..." class="w-full mt-3 px-3 py-2 border rounded-lg text-sm" data-translate="nav.search">
      </div>
    </div>
  </nav>

  <!-- Overlay -->
  <div class="fixed inset-0 bg-black/50 z-40 hidden" id="nav-overlay"></div>

  <!-- ==================== MAIN CONTENT ==================== -->
  <main class="max-w-7xl mx-auto px-4 py-12 rtl">
    <div class="space-y-8">

      <!-- Forgot Password Form -->
      <div class="bg-white p-8 rounded-2xl shadow-xl max-w-md mx-auto text-center">
        <h1 class="text-3xl font-bold text-purple-800 mb-3" data-translate="forgot.title">نسيت كلمة المرور؟</h1>
        <p class="text-gray-600 mb-6" data-translate="forgot.description">أدخل بريدك الإلكتروني وسنرسل لك رابط إعادة التعيين.</p>
        <form id="forgotForm" class="space-y-5">
          <div class="text-right">
            <label for="email" class="block text-sm font-medium text-dark mb-2" data-translate="forgot.email">البريد الإلكتروني</label>
            <input type="email" id="email" placeholder="you@example.com" required
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition">
          </div>
          <div class="flex flex-col sm:flex-row gap-3 justify-center">
            <button type="submit" class="px-6 py-3 bg-gradient-to-r from-accent to-primary text-white rounded-full font-semibold hover:shadow-lg hover:shadow-primary/40 transition" data-translate="forgot.send">
              إرسال رابط إعادة التعيين
            </button>
            <button type="button" onclick="window.location.href='login.html'"
                    class="px-6 py-3 text-primary font-medium hover:underline" data-translate="forgot.back">
              العودة لتسجيل الدخول
            </button>
          </div>
        </form>
      </div>
    </div>
  </main>

  <!-- ==================== FOOTER ==================== -->
  <footer class="bg-black text-gray-300 py-12 mt-16 rtl">
    <div class="max-w-7xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">

        <!-- Left -->
        <div class="space-y-4 text-center md:text-right">
          <div class="flex items-center justify-center md:justify-end gap-3">
            <img src="img/Girls Space (1) (1).png" alt="شعار GirlsSpace Mahama" class="w-12 h-12 object-contain rounded-full border-2 border-accent">
            <p class="text-pink-400 font-semibold" data-translate="footer.tagline">تمكين الفتيات، بناء المستقبل</p>
          </div>
          <p class="text-sm text-gray-400 max-w-xs mx-auto md:mx-0" data-translate="footer.description">
            ملاذ رقمي آمن للفتيات في مخيم مهاجمة للاجئين.
          </p>
          <div class="flex justify-center md:justify-end gap-3">
            <a href="#" class="w-10 h-10 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center text-gray-400 hover:bg-gray-700 hover:text-white transition">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="w-10 h-10 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center text-gray-400 hover:bg-gray-700 hover:text-white transition">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="w-10 h-10 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center text-gray-400 hover:bg-gray-700 hover:text-white transition">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="w-10 h-10 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center text-gray-400 hover:bg-gray-700 hover:text-white transition">
              <i class="fab fa-youtube"></i>
            </a>
          </div>
        </div>

        <!-- Links 1 -->
        <div class="text-center md:text-right">
          <h4 class="text-white font-semibold mb-4" data-translate="footer.quickLinks">روابط سريعة</h4>
          <ul class="space-y-2 text-sm">
            <li><a href="chat.html" class="hover:text-pink-400 transition" data-translate="footer.joinChat">انضم للدردشة</a></li>
            <li><a href="stories.html" class="hover:text-pink-400 transition" data-translate="footer.shareStory">شارك قصة</a></li>
          </ul>
        </div>

        <!-- Links 2 -->
        <div class="text-center md:text-right">
          <h4 class="text-white font-semibold mb-4" data-translate="footer.getHelp">احصل على المساعدة</h4>
          <ul class="space-y-2 text-sm">
            <li><a href="#" class="hover:text-pink-400 transition" data-translate="footer.support">الدعم</a></li>
            <li><a href="#" class="hover:text-pink-400 transition" data-translate="footer.report">الإبلاغ</a></li>
          </ul>
        </div>
      </div>

      <div class="border-t border-gray-800 pt-6 flex flex-col md:flex-row justify-between items-center text-xs text-gray-500 gap-4">
        <p data-translate="footer.copyright">© 2025 GirlsSpace Mahama. <span class="text-purple-500 font-medium">تمكين الفتيات، دائمًا.</span></p>
        <div class="text-center md:text-right">
          <p data-translate="footer.languages">متاح بـ: العربية، الإنجليزية، الفرنسية، السواحيلية، الكينيارواندية</p>
          <p data-translate="footer.supporters">بدعم من: UNHCR، Save The Children، Alight</p>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Language data
    const translations = {
      en: {
        "nav.home": "Home",
        "nav.about": "About",
        "nav.chat": "Chat",
        "nav.stories": "Stories",
        "nav.protection": "Protection",
        "nav.programs": "Programs",
        "nav.language": "Language",
        "nav.login": "Log In",
        "nav.donate": "Donate",
        "nav.search": "Search...",
        "forgot.title": "Forgot Password?",
        "forgot.description": "Enter your email and we'll send you a reset link.",
        "forgot.email": "Email Address",
        "forgot.send": "Send Reset Link",
        "forgot.back": "Back to Login",
        "footer.tagline": "Empowering Girls, Building Futures",
        "footer.description": "A safe digital haven for girls in Mahama refugee camp.",
        "footer.quickLinks": "Quick Links",
        "footer.joinChat": "Join Chat",
        "footer.shareStory": "Share Story",
        "footer.getHelp": "Get Help",
        "footer.support": "Support",
        "footer.report": "Report",
        "footer.copyright": "© 2025 GirlsSpace Mahama. <span class='text-purple-500 font-medium'>Empowering girls, always.</span>",
        "footer.languages": "Available in: English, Français, Kiswahili, Kinyarwanda, Arabic",
        "footer.supporters": "Supported by UNHCR, Save The Children, Alight"
      },
      ar: {
        "nav.home": "الرئيسية",
        "nav.about": "من نحن",
        "nav.chat": "الدردشة",
        "nav.stories": "القصص",
        "nav.protection": "الحماية",
        "nav.programs": "البرامج",
        "nav.language": "اللغة",
        "nav.login": "تسجيل الدخول",
        "nav.donate": "تبرع",
        "nav.search": "بحث...",
        "forgot.title": "نسيت كلمة المرور؟",
        "forgot.description": "أدخل بريدك الإلكتروني وسنرسل لك رابط إعادة التعيين.",
        "forgot.email": "البريد الإلكتروني",
        "forgot.send": "إرسال رابط إعادة التعيين",
        "forgot.back": "العودة لتسجيل الدخول",
        "footer.tagline": "تمكين الفتيات، بناء المستقبل",
        "footer.description": "ملاذ رقمي آمن للفتيات في مخيم مهاجمة للاجئين.",
        "footer.quickLinks": "روابط سريعة",
        "footer.joinChat": "انضم للدردشة",
        "footer.shareStory": "شارك قصة",
        "footer.getHelp": "احصل على المساعدة",
        "footer.support": "الدعم",
        "footer.report": "الإبلاغ",
        "footer.copyright": "© 2025 GirlsSpace Mahama. <span class='text-purple-500 font-medium'>تمكين الفتيات، دائمًا.</span>",
        "footer.languages": "متاح بـ: العربية، الإنجليزية، الفرنسية، السواحيلية، الكينيارواندية",
        "footer.supporters": "بدعم من: UNHCR، Save The Children، Alight"
      },
      sw: {
        "nav.home": "Nyumbani",
        "nav.about": "Kuhusu Sisi",
        "nav.chat": "Gumzo",
        "nav.stories": "Hadithi",
        "nav.protection": "Ulinzi",
        "nav.programs": "Mipango",
        "nav.language": "Lugha",
        "nav.login": "Ingia",
        "nav.donate": "Changia",
        "nav.search": "Tafuta...",
        "forgot.title": "Umesahau Nywila?",
        "forgot.description": "Weka barua pepe yako na tutakutumia kiunga cha kuweka upya.",
        "forgot.email": "Anwani ya Barua Pepe",
        "forgot.send": "Tuma Kiunga cha Kurekebisha",
        "forgot.back": "Rudi Kwenye Kuingia",
        "footer.tagline": "Kuwawezesha Wasichana, Kujenga Mustakabali",
        "footer.description": "Kimbilio la salama la kidijitali kwa wasichana katika kambi ya wakimbizi ya Mahama.",
        "footer.quickLinks": "Viungo Vya Haraka",
        "footer.joinChat": "Jiunge na Gumzo",
        "footer.shareStory": "Shiriki Hadithi",
        "footer.getHelp": "Pata Msaada",
        "footer.support": "Msaada",
        "footer.report": "Ripoti",
        "footer.copyright": "© 2025 GirlsSpace Mahama. <span class='text-purple-500 font-medium'>Kuwawezesha wasichana, kila wakati.</span>",
        "footer.languages": "Inapatikana katika: Kiingereza, Kifaransa, Kiswahili, Kinyarwanda, Kiarabu",
        "footer.supporters": "Inasaidiwa na: UNHCR, Save The Children, Alight"
      },
      fr: {
        "nav.home": "Accueil",
        "nav.about": "À propos",
        "nav.chat": "Chat",
        "nav.stories": "Histoires",
        "nav.protection": "Protection",
        "nav.programs": "Programmes",
        "nav.language": "Langue",
        "nav.login": "Connexion",
        "nav.donate": "Faire un don",
        "nav.search": "Rechercher...",
        "forgot.title": "Mot de passe oublié?",
        "forgot.description": "Entrez votre e-mail et nous vous enverrons un lien de réinitialisation.",
        "forgot.email": "Adresse e-mail",
        "forgot.send": "Envoyer le lien de réinitialisation",
        "forgot.back": "Retour à la connexion",
        "footer.tagline": "Autonomiser les Filles, Bâtir l'Avenir",
        "footer.description": "Un havre numérique sûr pour les filles du camp de réfugiés de Mahama.",
        "footer.quickLinks": "Liens Rapides",
        "footer.joinChat": "Rejoindre le Chat",
        "footer.shareStory": "Partager une Histoire",
        "footer.getHelp": "Obtenir de l'Aide",
        "footer.support": "Soutien",
        "footer.report": "Signaler",
        "footer.copyright": "© 2025 GirlsSpace Mahama. <span class='text-purple-500 font-medium'>Autonomiser les filles, toujours.</span>",
        "footer.languages": "Disponible en : Anglais, Français, Swahili, Kinyarwanda, Arabe",
        "footer.supporters": "Soutenu par : HCR, Save The Children, Alight"
      },
      rw: {
        "nav.home": "Ahabanza",
        "nav.about": "Abo turi",
        "nav.chat": "Kuganira",
        "nav.stories": "Inkuru",
        "nav.protection": "Umutekano",
        "nav.programs": "Porogaramu",
        "nav.language": "Ururimi",
        "nav.login": "Injira",
        "nav.donate": "Tanga",
        "nav.search": "Shaka...",
        "forgot.title": "Wibagiwe ijambobanga?",
        "forgot.description": "Shyiramo imeri yawe tuzaguhereza umurongo wo gusubiramo.",
        "forgot.email": "Aderesi ya imeri",
        "forgot.send": "Ohereza umurongo wo gusubiramo",
        "forgot.back": "Subira inzira yo kwinjira",
        "footer.tagline": "Guharanira abakobwa, Kubaka Ejo Hazaza",
        "footer.description": "Ubuturo butekanye bwa digitale kuri abakobwa bo mu rugo rw'abimukanyi rwa Mahama.",
        "footer.quickLinks": "Amahuza Yihuse",
        "footer.joinChat": "Injira mu kuganira",
        "footer.shareStory": "Sangiza inkuru",
        "footer.getHelp": "Kwakira ubufasha",
        "footer.support": "Gushigikira",
        "footer.report": "Raporo",
        "footer.copyright": "© 2025 GirlsSpace Mahama. <span class='text-purple-500 font-medium'>Guharanira abakobwa, buri gihe.</span>",
        "footer.languages": "Biboneka mu: Icyongereza, Igifaransa, Igiswahili, Ikinyarwanda, Icyarabu",
        "footer.supporters": "Bishigikijwe na: UNHCR, Save The Children, Alight"
      }
    };

    // Language management functions
    function getCurrentLanguage() {
      return localStorage.getItem('selectedLanguage') || 'ar';
    }

    function setCurrentLanguage(lang) {
      localStorage.setItem('selectedLanguage', lang);
      applyTranslations(lang);
      updateLanguageSelector(lang);
      updateDirection(lang);
    }

    function applyTranslations(lang) {
      const elements = document.querySelectorAll('[data-translate]');
      
      elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
          if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translations[lang][key];
          } else {
            element.innerHTML = translations[lang][key];
          }
        }
      });
    }

    function updateLanguageSelector(lang) {
      const languageNames = {
        'en': 'English',
        'ar': 'العربية',
        'sw': 'Swahili',
        'fr': 'Français',
        'rw': 'Kinyarwanda'
      };
      
      // Update desktop language button
      const currentLanguageElement = document.getElementById('current-language');
      if (currentLanguageElement) {
        currentLanguageElement.querySelector('span').textContent = languageNames[lang];
      }
      
      // Update mobile language selector
      const mobileLanguageSelector = document.getElementById('mobile-language-selector');
      if (mobileLanguageSelector) {
        mobileLanguageSelector.value = lang;
      }
    }

    function updateDirection(lang) {
      // Set direction based on language
      const isRTL = ['ar'].includes(lang);
      document.documentElement.dir = isRTL ? 'rtl' : 'ltr';
      document.documentElement.lang = lang;
      
      // Update body classes for direction
      document.body.classList.remove('rtl', 'ltr');
      document.body.classList.add(isRTL ? 'rtl' : 'ltr');
    }

    // Initialize language on page load
    document.addEventListener('DOMContentLoaded', function() {
      const currentLang = getCurrentLanguage();
      applyTranslations(currentLang);
      updateLanguageSelector(currentLang);
      updateDirection(currentLang);
      
      // Add event listeners for language options
      const languageOptions = document.querySelectorAll('.language-option');
      languageOptions.forEach(option => {
        option.addEventListener('click', function(e) {
          e.preventDefault();
          const lang = this.getAttribute('data-lang');
          setCurrentLanguage(lang);
        });
      });
      
      // Add event listener for mobile language selector
      const mobileLanguageSelector = document.getElementById('mobile-language-selector');
      if (mobileLanguageSelector) {
        mobileLanguageSelector.addEventListener('change', function() {
          setCurrentLanguage(this.value);
        });
      }
    });

    // Mobile menu functionality
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('nav-links');
    const overlay = document.getElementById('nav-overlay');

    function toggleMenu() {
      const isOpen = !mobileMenu.classList.contains('hidden');
      
      if (isOpen) {
        mobileMenu.classList.add('hidden');
        overlay.classList.add('hidden');
        mobileMenuButton.setAttribute('aria-expanded', 'false');
      } else {
        mobileMenu.classList.remove('hidden');
        overlay.classList.remove('hidden');
        mobileMenuButton.setAttribute('aria-expanded', 'true');
      }
    }

    mobileMenuButton.addEventListener('click', toggleMenu);
    overlay.addEventListener('click', toggleMenu);
  </script>

  <script type="module">
    import { setupForgotPassword } from './firebase.js';
    document.addEventListener('DOMContentLoaded', setupForgotPassword);
  </script>
</body>
</html>