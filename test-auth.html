<!-- test-auth.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Auth</title>
    <script type="module">
        import { checkAuthState } from './firebaseauth.js';
        
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üß™ Testing authentication...');
            const user = await checkAuthState();
            console.log('Test result:', user ? '‚úÖ LOGGED IN' : '‚ùå NOT LOGGED IN');
            console.log('User data:', user);
            console.log('LocalStorage:', localStorage.getItem('girlspaceUser'));
        });
    </script>
</head>
<body>
    <h1>Auth Test Page</h1>
    <p>Check the browser console for authentication status.</p>
    <script>
document.addEventListener('DOMContentLoaded', function() {
    // Check localStorage for user
    const userData = localStorage.getItem('girlspaceUser');
    
    if (userData) {
        // User is logged in
        const loginButtons = document.querySelectorAll('a[href="./login.html"]');
        loginButtons.forEach(btn => {
            btn.innerHTML = '<i class="fas fa-user-circle mr-2"></i> My Profile';
            btn.href = './profile.html';
            btn.classList.remove('border-2', 'border-primary', 'text-primary');
            btn.classList.add('bg-primary', 'text-white', 'px-4', 'py-2', 'rounded-full');
        });
        
        // Add logout button if not exists
        // if (!document.getElementById('logoutBtn')) {
        //     const logoutBtn = document.createElement('button');
        //     logoutBtn.id = 'logoutBtn';
        //     logoutBtn.className = 'ml-2 px-3 py-1 bg-red-500 text-white rounded text-sm';
        //     logoutBtn.textContent = 'Logout';
        //     logoutBtn.onclick = () => {
        //         localStorage.removeItem('girlspaceUser');
        //         window.location.reload();
        //     };
            
        //     const nav = document.querySelector('.hidden.lg\\:flex.items-center.gap-6');
        //     if (nav) nav.appendChild(logoutBtn);
        // }
    }
});
</script>
</body>
</html>