<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Admin Dashboard - GirlsSpace Mahama</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@400;500;600;700;900&display=swap" rel="stylesheet">
  
  <!-- Chart.js for analytics -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- Firebase SDK -->
  <script type="module">
    // Import Firebase modules
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
    import { 
      getAuth, 
      onAuthStateChanged, 
      signOut,
      signInWithEmailAndPassword 
    } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-auth.js";
    import { 
      getFirestore,
      collection,
      getDocs,
      query,
      where,
      orderBy,
      limit,
      updateDoc,
      doc,
      addDoc,
      deleteDoc,
      Timestamp
    } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js";
    import { 
      getStorage,
      ref,
      uploadBytes,
      getDownloadURL,
      deleteObject
    } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-storage.js";

    // Your Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyD5K27SYd3NzV5FOtMtPZs_l8UhEUq42zc",
      authDomain: "sigin-b3aa1.firebaseapp.com",
      projectId: "sigin-b3aa1",
      storageBucket: "sigin-b3aa1.firebasestorage.app",
      messagingSenderId: "390069352394",
      appId: "1:390069352394:web:aa32d4a640b6f7fee54133",
      measurementId: "G-WF0H2KJN02"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const storage = getStorage(app);

    // Make Firebase available globally
    window.firebase = {
      auth: auth,
      db: db,
      storage: storage,
      firestore: {
        collection,
        getDocs,
        query,
        where,
        orderBy,
        limit,
        updateDoc,
        doc,
        addDoc,
        deleteDoc,
        Timestamp
      },
      storageMethods: {
        ref,
        uploadBytes,
        getDownloadURL,
        deleteObject
      }
    };

    // Check authentication state
    onAuthStateChanged(auth, (user) => {
      if (!user) {
        // Not logged in, redirect to login page
        window.location.href = './login.html';
      } else {
        // Check if user is admin (you can add role-based check here)
        const adminEmail = "msbarbab69@gmail.com"; // Change this to your admin email
        if (user.email !== adminEmail) {
          alert("Access denied. Admin only.");
          signOut(auth);
          window.location.href = './login.html';
        } else {
          // User is admin, load dashboard data
          console.log("Admin user:", user.email);
          loadDashboardData();
          
          // Update admin info
          document.querySelector('.admin-name').textContent = user.displayName || 'Administrator';
          document.querySelector('.admin-email').textContent = user.email;
        }
      }
    });

    // Logout function
    window.logout = async () => {
      try {
        await signOut(auth);
        window.location.href = './index.html';
      } catch (error) {
        console.error('Logout error:', error);
      }
    };

    // Load dashboard data from Firestore
    async function loadDashboardData() {
      try {
        // Load users
        const usersSnapshot = await getDocs(collection(db, "users"));
        const userCount = usersSnapshot.size;
        document.querySelector('.total-users').textContent = userCount;
        
        // Load stories
        const storiesSnapshot = await getDocs(collection(db, "stories"));
        const activeStories = storiesSnapshot.docs.filter(doc => doc.data().status === 'approved').length;
        document.querySelector('.active-stories').textContent = activeStories;
        
        // Load pending reports
        const reportsQuery = query(collection(db, "reports"), where("status", "==", "pending"));
        const reportsSnapshot = await getDocs(reportsQuery);
        document.querySelector('.pending-reports').textContent = reportsSnapshot.size;
        
        // Load recent users
        const recentUsersQuery = query(
          collection(db, "users"),
          orderBy("createdAt", "desc"),
          limit(5)
        );
        const recentUsersSnapshot = await getDocs(recentUsersQuery);
        populateRecentUsers(recentUsersSnapshot);
        
        // Load user growth data for chart
        loadUserGrowthData();
        
        // Load notifications
        loadNotifications();
        
      } catch (error) {
        console.error("Error loading dashboard data:", error);
      }
    }

    function populateRecentUsers(snapshot) {
      const tbody = document.querySelector('tbody');
      tbody.innerHTML = '';
      
      snapshot.forEach((docSnapshot) => {
        const user = docSnapshot.data();
        const row = document.createElement('tr');
        row.className = 'table-row border-b border-gray-100';
        row.innerHTML = `
          <td class="py-4">
            <div class="flex items-center space-x-3">
              <img src="${user.photoURL || 'https://ui-avatars.com/api/?name=' + encodeURIComponent(user.displayName || user.email) + '&background=ec4899&color=fff'}" 
                   alt="${user.displayName || 'User'}" class="w-8 h-8 rounded-full">
              <div>
                <p class="font-medium text-sm">${user.displayName || 'Anonymous User'}</p>
                <p class="text-xs text-gray-500">${user.email || 'No email'}</p>
              </div>
            </div>
          </td>
          <td class="py-4 text-sm">${formatDate(user.createdAt?.toDate())}</td>
          <td class="py-4">
            <span class="status-badge status-${user.status || 'active'}">${(user.status || 'active').charAt(0).toUpperCase() + (user.status || 'active').slice(1)}</span>
          </td>
          <td class="py-4">
            <button onclick="viewUser('${docSnapshot.id}')" class="text-primary hover:text-primary-dark smooth-transition mr-2">
              <i class="fas fa-eye"></i>
            </button>
            <button onclick="editUser('${docSnapshot.id}')" class="text-warning hover:text-warning-dark smooth-transition">
              <i class="fas fa-edit"></i>
            </button>
          </td>
        `;
        tbody.appendChild(row);
      });
    }

    async function loadUserGrowthData() {
      // This is a simplified version. In production, you'd want to aggregate data properly
      const usersSnapshot = await getDocs(collection(db, "users"));
      const usersByMonth = {};
      
      usersSnapshot.forEach((doc) => {
        const user = doc.data();
        if (user.createdAt) {
          const month = user.createdAt.toDate().toLocaleString('default', { month: 'short' });
          usersByMonth[month] = (usersByMonth[month] || 0) + 1;
        }
      });
      
      // Initialize chart with data
      initializeCharts(usersByMonth);
    }

    async function loadNotifications() {
      const notificationsQuery = query(
        collection(db, "notifications"),
        orderBy("timestamp", "desc"),
        limit(5)
      );
      
      const snapshot = await getDocs(notificationsQuery);
      const container = document.querySelector('#notification-dropdown .max-h-96');
      
      snapshot.forEach((doc) => {
        const notif = doc.data();
        const div = document.createElement('div');
        div.className = 'p-4 border-b border-gray-100 hover:bg-gray-50 smooth-transition';
        div.innerHTML = `
          <div class="flex items-start space-x-3">
            <div class="w-8 h-8 ${getNotificationColor(notif.type)} rounded-full flex items-center justify-center">
              <i class="fas fa-${getNotificationIcon(notif.type)} text-white text-sm"></i>
            </div>
            <div class="flex-1">
              <p class="font-medium text-sm">${notif.title}</p>
              <p class="text-xs text-gray-500 mt-1">${notif.message}</p>
              <p class="text-xs text-gray-400 mt-1">${formatTimeAgo(notif.timestamp?.toDate())}</p>
            </div>
          </div>
        `;
        container.appendChild(div);
      });
    }

    function getNotificationColor(type) {
      const colors = {
        'user': 'bg-primary',
        'story': 'bg-success',
        'report': 'bg-danger',
        'system': 'bg-info'
      };
      return colors[type] || 'bg-gray-600';
    }

    function getNotificationIcon(type) {
      const icons = {
        'user': 'user',
        'story': 'book-open',
        'report': 'flag',
        'system': 'cog'
      };
      return icons[type] || 'bell';
    }

    function formatDate(date) {
      if (!date) return 'N/A';
      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
    }

    function formatTimeAgo(date) {
      if (!date) return '';
      const now = new Date();
      const diffMs = now - date;
      const diffMins = Math.floor(diffMs / 60000);
      const diffHours = Math.floor(diffMs / 3600000);
      const diffDays = Math.floor(diffMs / 86400000);
      
      if (diffMins < 60) return `${diffMins} minute${diffMins !== 1 ? 's' : ''} ago`;
      if (diffHours < 24) return `${diffHours} hour${diffHours !== 1 ? 's' : ''} ago`;
      return `${diffDays} day${diffDays !== 1 ? 's' : ''} ago`;
    }

    // Make functions available globally
    window.viewUser = (userId) => {
      // Implement view user modal
      alert(`View user: ${userId}`);
    };

    window.editUser = (userId) => {
      // Implement edit user modal
      alert(`Edit user: ${userId}`);
    };

    window.addNewUser = async () => {
      // Implement add user functionality
      const email = prompt("Enter user email:");
      const password = prompt("Enter temporary password:");
      
      if (email && password) {
        try {
          // Note: In production, use Firebase Admin SDK on backend for this
          alert("User creation should be handled on backend for security");
        } catch (error) {
          alert("Error creating user: " + error.message);
        }
      }
    };

  </script>
  
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            poppins: ['Poppins', 'sans-serif'],
            inter: ['Inter', 'sans-serif'],
          },
          colors: {
            primary: '#ec4899',
            'primary-dark': '#be185d',
            accent: '#fbbf24',
            dark: '#0f0f14',
            'custom-purple': '#c23cb6',
            success: '#10b981',
            warning: '#f59e0b',
            danger: '#ef4444',
            info: '#3b82f6',
          },
          animation: {
            float: 'float 3s ease-in-out infinite',
            'spin-slow': 'spin 10s linear infinite',
            pulse: 'pulse-glow 2s ease-in-out infinite',
            fadeIn: 'fadeIn 0.5s ease-in-out',
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-12px)' },
            },
            'pulse-glow': {
              '0%, 100%': { boxShadow: '0 10px 30px rgba(236,72,154,0.2)' },
              '50%': { boxShadow: '0 15px 40px rgba(236,72,154,0.4)' },
            },
            fadeIn: {
              '0%': { opacity: 0, transform: 'translateY(-10px)' },
              '100%': { opacity: 1, transform: 'translateY(0)' },
            }
          }
        }
      }
    }
  </script>

  <style>
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb {
      background: #c23cb6;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #ec4899;
    }
    
    /* Smooth transitions */
    .smooth-transition {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Card hover effects */
    .dashboard-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }
    
    /* Status badges */
    .status-badge {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .status-active { background: rgba(16, 185, 129, 0.1); color: #10b981; }
    .status-pending { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }
    .status-inactive { background: rgba(107, 114, 128, 0.1); color: #6b7280; }
    .status-warning { background: rgba(239, 68, 68, 0.1); color: #ef4444; }
    
    /* Sidebar active state */
    .sidebar-link.active {
      background: linear-gradient(90deg, rgba(236, 72, 153, 0.1) 0%, rgba(236, 72, 153, 0.05) 100%);
      border-left: 4px solid #ec4899;
      color: #ec4899;
    }
    
    /* Table row hover */
    .table-row:hover {
      background: rgba(236, 72, 153, 0.05);
    }
  </style>
</head>

<body class="font-inter bg-gray-50 text-gray-800 min-h-screen">
  
  <!-- Admin Dashboard Container -->
  <div class="flex h-screen">
    
    <!-- Sidebar -->
    <div class="w-64 bg-white border-r border-gray-200 flex flex-col shadow-lg">
      <!-- Logo -->
      <div class="p-6 border-b border-gray-200">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 bg-gradient-to-r from-primary to-custom-purple rounded-full flex items-center justify-center">
            <i class="fas fa-shield-alt text-white"></i>
          </div>
          <div>
            <h2 class="font-bold text-lg text-gray-800">GirlsSpace Admin</h2>
            <p class="text-xs text-gray-500">Administrator Panel</p>
          </div>
        </div>
      </div>
      
      <!-- Admin Profile -->
      <div class="p-6 border-b border-gray-200">
        <div class="flex items-center space-x-3">
          <div class="relative">
            <img src="https://ui-avatars.com/api/?name=Admin&background=c23cb6&color=fff" 
                 alt="Admin" class="w-12 h-12 rounded-full border-2 border-primary">
            <span class="absolute bottom-0 right-0 w-3 h-3 bg-success rounded-full border-2 border-white"></span>
          </div>
          <div class="flex-1 min-w-0">
            <p class="admin-name font-semibold text-gray-800 truncate">Loading...</p>
            <p class="admin-email text-sm text-gray-500 truncate">Loading...</p>
          </div>
        </div>
      </div>
      
      <!-- Navigation -->
      <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <a href="#dashboard" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:text-primary hover:bg-pink-50 smooth-transition active">
          <i class="fas fa-chart-bar text-lg w-6"></i>
          <span class="font-medium">Dashboard</span>
        </a>
        <a href="#users" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:text-primary hover:bg-pink-50 smooth-transition">
          <i class="fas fa-users text-lg w-6"></i>
          <span class="font-medium">Users</span>
          <span class="ml-auto bg-primary text-white text-xs px-2 py-1 rounded-full total-users">0</span>
        </a>
        <a href="#content" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:text-primary hover:bg-pink-50 smooth-transition">
          <i class="fas fa-newspaper text-lg w-6"></i>
          <span class="font-medium">Content</span>
        </a>
        <a href="#stories" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:text-primary hover:bg-pink-50 smooth-transition">
          <i class="fas fa-book-open text-lg w-6"></i>
          <span class="font-medium">Stories</span>
          <span class="ml-auto bg-warning text-white text-xs px-2 py-1 rounded-full">0</span>
        </a>
        <a href="#chat" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:text-primary hover:bg-pink-50 smooth-transition">
          <i class="fas fa-comments text-lg w-6"></i>
          <span class="font-medium">Chat Rooms</span>
        </a>
        <a href="#reports" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:text-primary hover:bg-pink-50 smooth-transition">
          <i class="fas fa-flag text-lg w-6"></i>
          <span class="font-medium">Reports</span>
          <span class="ml-auto bg-danger text-white text-xs px-2 py-1 rounded-full pending-reports">0</span>
        </a>
        <a href="#analytics" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:text-primary hover:bg-pink-50 smooth-transition">
          <i class="fas fa-chart-pie text-lg w-6"></i>
          <span class="font-medium">Analytics</span>
        </a>
        <a href="#settings" class="sidebar-link flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:text-primary hover:bg-pink-50 smooth-transition">
          <i class="fas fa-cog text-lg w-6"></i>
          <span class="font-medium">Settings</span>
        </a>
      </nav>
      
      <!-- Logout -->
      <div class="p-4 border-t border-gray-200">
        <button onclick="logout()" class="flex items-center space-x-3 p-3 w-full text-left rounded-lg text-gray-600 hover:text-danger hover:bg-red-50 smooth-transition">
          <i class="fas fa-sign-out-alt text-lg w-6"></i>
          <span class="font-medium">Log Out</span>
        </button>
      </div>
    </div>
    
    <!-- Main Content -->
    <div class="flex-1 flex flex-col overflow-hidden">
      
      <!-- Top Bar -->
      <header class="bg-white border-b border-gray-200 px-6 py-4 shadow-sm">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-4">
            <h1 class="text-2xl font-bold text-gray-800">Dashboard Overview</h1>
            <div class="hidden md:flex items-center space-x-2 text-sm text-gray-500">
              <i class="fas fa-calendar-alt"></i>
              <span id="current-date">Loading...</span>
            </div>
          </div>
          
          <div class="flex items-center space-x-4">
            <!-- Notifications -->
            <div class="relative">
              <button id="notification-btn" class="p-2 rounded-full hover:bg-gray-100 smooth-transition">
                <i class="fas fa-bell text-xl text-gray-600"></i>
                <span class="absolute top-1 right-1 w-2 h-2 bg-danger rounded-full"></span>
              </button>
              <!-- Notification Dropdown -->
              <div id="notification-dropdown" class="absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 hidden z-50">
                <div class="p-4 border-b border-gray-200">
                  <h3 class="font-bold text-gray-800">Notifications</h3>
                </div>
                <div class="max-h-96 overflow-y-auto">
                  <!-- Notifications loaded dynamically -->
                </div>
                <div class="p-4 border-t border-gray-200">
                  <a href="#" class="text-primary text-sm font-medium hover:underline">View all notifications</a>
                </div>
              </div>
            </div>
            
            <!-- Quick Actions -->
            <button onclick="addNewUser()" class="px-4 py-2 bg-gradient-to-r from-primary to-custom-purple text-white rounded-lg font-medium hover:shadow-lg smooth-transition flex items-center space-x-2">
              <i class="fas fa-plus"></i>
              <span>Add New User</span>
            </button>
          </div>
        </div>
      </header>
      
      <!-- Dashboard Content -->
      <main class="flex-1 overflow-y-auto p-6">
        
        <!-- Stats Overview -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          <div class="dashboard-card bg-white rounded-xl p-6 shadow border border-gray-100">
            <div class="flex items-center justify-between mb-4">
              <div>
                <p class="text-sm text-gray-500">Total Users</p>
                <h3 class="total-users text-2xl font-bold text-gray-800">0</h3>
              </div>
              <div class="w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center">
                <i class="fas fa-users text-primary text-xl"></i>
              </div>
            </div>
            <div class="flex items-center text-sm">
              <span class="text-success flex items-center">
                <i class="fas fa-arrow-up mr-1"></i>
                Loading...
              </span>
              <span class="text-gray-500 ml-2">from last month</span>
            </div>
          </div>
          
          <div class="dashboard-card bg-white rounded-xl p-6 shadow border border-gray-100">
            <div class="flex items-center justify-between mb-4">
              <div>
                <p class="text-sm text-gray-500">Active Stories</p>
                <h3 class="active-stories text-2xl font-bold text-gray-800">0</h3>
              </div>
              <div class="w-12 h-12 bg-success/10 rounded-full flex items-center justify-center">
                <i class="fas fa-book-open text-success text-xl"></i>
              </div>
            </div>
            <div class="flex items-center text-sm">
              <span class="text-success flex items-center">
                <i class="fas fa-arrow-up mr-1"></i>
                Loading...
              </span>
              <span class="text-gray-500 ml-2">from last week</span>
            </div>
          </div>
          
          <div class="dashboard-card bg-white rounded-xl p-6 shadow border border-gray-100">
            <div class="flex items-center justify-between mb-4">
              <div>
                <p class="text-sm text-gray-500">Chat Sessions</p>
                <h3 class="text-2xl font-bold text-gray-800">156</h3>
              </div>
              <div class="w-12 h-12 bg-info/10 rounded-full flex items-center justify-center">
                <i class="fas fa-comments text-info text-xl"></i>
              </div>
            </div>
            <div class="flex items-center text-sm">
              <span class="text-success flex items-center">
                <i class="fas fa-arrow-up mr-1"></i>
                24.3%
              </span>
              <span class="text-gray-500 ml-2">from yesterday</span>
            </div>
          </div>
          
          <div class="dashboard-card bg-white rounded-xl p-6 shadow border border-gray-100">
            <div class="flex items-center justify-between mb-4">
              <div>
                <p class="text-sm text-gray-500">Pending Reports</p>
                <h3 class="pending-reports text-2xl font-bold text-gray-800">0</h3>
              </div>
              <div class="w-12 h-12 bg-warning/10 rounded-full flex items-center justify-center">
                <i class="fas fa-flag text-warning text-xl"></i>
              </div>
            </div>
            <div class="flex items-center text-sm">
              <span class="text-danger flex items-center">
                <i class="fas fa-arrow-down mr-1"></i>
                Loading...
              </span>
              <span class="text-gray-500 ml-2">from last week</span>
            </div>
          </div>
        </div>
        
        <!-- Charts and Analytics -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
          <!-- User Growth Chart -->
          <div class="bg-white rounded-xl p-6 shadow border border-gray-100">
            <div class="flex items-center justify-between mb-6">
              <h3 class="font-bold text-lg text-gray-800">User Growth</h3>
              <div class="flex space-x-2">
                <button class="px-3 py-1 text-xs bg-gray-100 rounded-lg hover:bg-gray-200 smooth-transition">Weekly</button>
                <button class="px-3 py-1 text-xs bg-primary text-white rounded-lg smooth-transition">Monthly</button>
                <button class="px-3 py-1 text-xs bg-gray-100 rounded-lg hover:bg-gray-200 smooth-transition">Yearly</button>
              </div>
            </div>
            <div class="h-64">
              <canvas id="userGrowthChart"></canvas>
            </div>
          </div>
          
          <!-- Platform Distribution -->
          <div class="bg-white rounded-xl p-6 shadow border border-gray-100">
            <div class="flex items-center justify-between mb-6">
              <h3 class="font-bold text-lg text-gray-800">Platform Distribution</h3>
            </div>
            <div class="h-64">
              <canvas id="platformChart"></canvas>
            </div>
          </div>
        </div>
        
        <!-- Recent Activity and Quick Actions -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <!-- Recent Users -->
          <div class="bg-white rounded-xl p-6 shadow border border-gray-100 lg:col-span-2">
            <div class="flex items-center justify-between mb-6">
              <h3 class="font-bold text-lg text-gray-800">Recent Users</h3>
              <a href="#users" class="text-primary text-sm font-medium hover:underline">View all</a>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full">
                <thead>
                  <tr class="text-left text-xs text-gray-500 border-b border-gray-200">
                    <th class="pb-3 font-medium">User</th>
                    <th class="pb-3 font-medium">Joined</th>
                    <th class="pb-3 font-medium">Status</th>
                    <th class="pb-3 font-medium">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Users loaded dynamically from Firebase -->
                </tbody>
              </table>
            </div>
          </div>
          
          <!-- Quick Actions -->
          <div class="bg-white rounded-xl p-6 shadow border border-gray-100">
            <h3 class="font-bold text-lg text-gray-800 mb-6">Quick Actions</h3>
            <div class="space-y-4">
              <button onclick="addNewUser()" class="w-full flex items-center space-x-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg smooth-transition">
                <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center">
                  <i class="fas fa-user-plus text-primary"></i>
                </div>
                <div class="text-left">
                  <p class="font-medium text-sm">Add New User</p>
                  <p class="text-xs text-gray-500">Register new girl</p>
                </div>
              </button>
              
              <button onclick="createProgram()" class="w-full flex items-center space-x-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg smooth-transition">
                <div class="w-10 h-10 bg-success/10 rounded-lg flex items-center justify-center">
                  <i class="fas fa-plus-circle text-success"></i>
                </div>
                <div class="text-left">
                  <p class="font-medium text-sm">Create Program</p>
                  <p class="text-xs text-gray-500">Add learning program</p>
                </div>
              </button>
              
              <button onclick="viewReports()" class="w-full flex items-center space-x-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg smooth-transition">
                <div class="w-10 h-10 bg-warning/10 rounded-lg flex items-center justify-center">
                  <i class="fas fa-chart-line text-warning"></i>
                </div>
                <div class="text-left">
                  <p class="font-medium text-sm">View Reports</p>
                  <p class="text-xs text-gray-500">Analyze platform data</p>
                </div>
              </button>
              
              <button onclick="openSettings()" class="w-full flex items-center space-x-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg smooth-transition">
                <div class="w-10 h-10 bg-info/10 rounded-lg flex items-center justify-center">
                  <i class="fas fa-cog text-info"></i>
                </div>
                <div class="text-left">
                  <p class="font-medium text-sm">Settings</p>
                  <p class="text-xs text-gray-500">Configure platform</p>
                </div>
              </button>
            </div>
          </div>
        </div>
        
        <!-- System Status -->
        <div class="mt-8 bg-white rounded-xl p-6 shadow border border-gray-100">
          <h3 class="font-bold text-lg text-gray-800 mb-6">System Status</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg">
              <div class="w-12 h-12 bg-success/10 rounded-full flex items-center justify-center">
                <i class="fas fa-server text-success text-xl"></i>
              </div>
              <div>
                <p class="font-medium">Server Status</p>
                <p class="text-2xl font-bold text-success">Online</p>
              </div>
            </div>
            
            <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg">
              <div class="w-12 h-12 bg-success/10 rounded-full flex items-center justify-center">
                <i class="fas fa-database text-success text-xl"></i>
              </div>
              <div>
                <p class="font-medium">Database</p>
                <p class="text-2xl font-bold text-success">Connected</p>
              </div>
            </div>
            
            <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg">
              <div class="w-12 h-12 bg-warning/10 rounded-full flex items-center justify-center">
                <i class="fas fa-shield-alt text-warning text-xl"></i>
              </div>
              <div>
                <p class="font-medium">Security</p>
                <p class="text-2xl font-bold text-warning">Monitoring</p>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- Additional JavaScript -->
  <script>
    // Initialize date
    document.addEventListener('DOMContentLoaded', function() {
      // Set current date
      const now = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', options);
      
      // Notification dropdown toggle
      const notificationBtn = document.getElementById('notification-btn');
      const notificationDropdown = document.getElementById('notification-dropdown');
      
      notificationBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        notificationDropdown.classList.toggle('hidden');
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function() {
        notificationDropdown.classList.add('hidden');
      });
      
      // Sidebar navigation
      const sidebarLinks = document.querySelectorAll('.sidebar-link');
      sidebarLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          sidebarLinks.forEach(l => l.classList.remove('active'));
          this.classList.add('active');
        });
      });
    });
    
    // Chart initialization function
    function initializeCharts(userData) {
      // User Growth Chart
      const userGrowthCtx = document.getElementById('userGrowthChart').getContext('2d');
      new Chart(userGrowthCtx, {
        type: 'line',
        data: {
          labels: Object.keys(userData),
          datasets: [{
            label: 'New Users',
            data: Object.values(userData),
            borderColor: '#ec4899',
            backgroundColor: 'rgba(236, 72, 153, 0.1)',
            borderWidth: 2,
            fill: true,
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                drawBorder: false
              }
            },
            x: {
              grid: {
                display: false
              }
            }
          }
        }
      });
      
      // Platform Distribution Chart
      const platformCtx = document.getElementById('platformChart').getContext('2d');
      new Chart(platformCtx, {
        type: 'doughnut',
        data: {
          labels: ['Mobile', 'Tablet', 'Desktop'],
          datasets: [{
            data: [65, 20, 15],
            backgroundColor: [
              '#ec4899',
              '#c23cb6',
              '#fbbf24'
            ],
            borderWidth: 0,
            hoverOffset: 15
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'bottom',
              labels: {
                padding: 20,
                usePointStyle: true
              }
            }
          }
        }
      });
    }
    
    // Additional functions
    window.createProgram = () => {
      alert('Create Program feature coming soon!');
    };
    
    window.viewReports = () => {
      alert('View Reports feature coming soon!');
    };
    
    window.openSettings = () => {
      alert('Settings feature coming soon!');
    };
  </script>
</body>
</html>